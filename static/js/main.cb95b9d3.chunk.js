(this["webpackJsonpmy-app2"]=this["webpackJsonpmy-app2"]||[]).push([[0],{108:function(e,t,a){},129:function(e,t,a){},133:function(e,t,a){},374:function(e,t,a){},375:function(e,t,a){},376:function(e,t,a){"use strict";a.r(t);var n=a(2),i=a.n(n),o=a(35),s=a.n(o),r=(a(108),a(25)),c=a(18),l=a(11),d=a(27),h=a(26),u=a(51),j=a.n(u),g=(a(129),a.p+"static/media/offline.9fdba865.png"),b=a(398),p=a(396),f=a(395),v=a(4),m=function(e){Object(d.a)(a,e);var t=Object(h.a)(a);function a(e){var n;return Object(r.a)(this,a),(n=t.call(this,e)).state={items:[],url:g,load:!1},n.goDetail=n.goDetail.bind(Object(l.a)(n)),n.onError=n.onError.bind(Object(l.a)(n)),n.onErrorVideo=n.onErrorVideo.bind(Object(l.a)(n)),n}return Object(c.a)(a,[{key:"getdata",value:function(){var e=this;fetch("https://api.nasa.gov/planetary/apod?api_key=eHlZc7hYrWkwuKKS2E5hYKgztsd50fhKKtaPrga2").then((function(e){return e.json()})).then((function(t){var a=e.state.items;a.push(t),e.setState({items:a}),console.log(t),console.log(e.state.items)}))}},{key:"componentDidMount",value:function(){this.getdata(),this.setState({url:this.props.data.url})}},{key:"goDetail",value:function(){this.props.goDetail(this.props.data)}},{key:"onError",value:function(){this.setState({url:g})}},{key:"onErrorVideo",value:function(){console.log("error de la carga del video"),this.setState({url:g,load:!0}),console.log(this.state.load)}},{key:"render",value:function(){return Object(v.jsx)("div",{className:"divcards",children:Object(v.jsx)(b.a,{className:"cards",onClick:this.goDetail,children:Object(v.jsxs)(p.a,{className:"cardcontent",children:[Object(v.jsx)("li",{className:"itemcards",children:"image"===this.props.data.media_type?Object(v.jsx)("div",{children:Object(v.jsx)("img",{src:this.state.url,alt:"Imagen del dia",onError:this.onError})}):Object(v.jsx)("div",{className:"divideo",onClick:this.goDetail,children:this.state.load?Object(v.jsx)("img",{className:"offline",src:this.state.url,alt:"Sin conexion"}):Object(v.jsx)(j.a,{width:"100%",height:"100%",onError:this.onErrorVideo,url:this.state.url})})}),Object(v.jsxs)(f.a,{className:"cardcontent",children:[Object(v.jsx)("h2",{children:this.props.data.title}),Object(v.jsx)("hr",{}),Object(v.jsx)("h4",{children:"See more"}),Object(v.jsx)("h5",{children:this.props.data.date})]})]})})})}}]),a}(n.Component),O=(a(133),a(102)),y=a(64),x=a.n(y),k={particles:{number:{value:160,density:{enable:!0,value_area:800}},color:{value:"#ffffff"},shape:{type:"circle",stroke:{width:0,color:"#000000"},polygon:{nb_sides:5},image:{src:"img/github.svg",width:100,height:100}},opacity:{value:1,random:!0,anim:{enable:!0,speed:1,opacity_min:0,sync:!1}},size:{value:3,random:!0,anim:{enable:!1,speed:4,size_min:.3,sync:!1}},line_linked:{enable:!1,distance:150,color:"#ffffff",opacity:.4,width:1},move:{enable:!0,speed:1,direction:"none",random:!0,straight:!1,out_mode:"out",bounce:!1,attract:{enable:!1,rotateX:600,rotateY:600}}},interactivity:{detect_on:"canvas",events:{onhover:{enable:!0,mode:"grab"},onclick:{enable:!0,mode:"repulse"},resize:!0},modes:{grab:{distance:400,line_linked:{opacity:1}},bubble:{distance:250,size:0,duration:2,opacity:0,speed:3},repulse:{distance:400,duration:.4},push:{particles_nb:4},remove:{particles_nb:2}}},retina_detect:!0},w=function(e){Object(d.a)(a,e);var t=Object(h.a)(a);function a(e){var n;return Object(r.a)(this,a),(n=t.call(this,e)).state={items:[],day:new Date,index:0},n.goDetail=n.goDetail.bind(Object(l.a)(n)),n}return Object(c.a)(a,[{key:"getToday",value:function(e){return e.getFullYear()+"-"+(e.getMonth()+1)+"-"+e.getDate()}},{key:"getdata",value:function(){var e=this,t=this.state.index,a=new Date(this.state.day);a.setDate(a.getDate()-1*t);var n=this.getToday(a);fetch("https://api.nasa.gov/planetary/apod?api_key=eHlZc7hYrWkwuKKS2E5hYKgztsd50fhKKtaPrga2&date="+n).then((function(e){return e.json()})).then((function(a){var n=e.state.items;n.push(a),t+=1,e.setState({items:n,index:t}),t<15?e.getdata():(localStorage.setItem("nasa_data",JSON.stringify(n)),localStorage.setItem("nasa_day",e.getToday(e.state.day)))}))}},{key:"componentDidMount",value:function(){var e=JSON.parse(localStorage.getItem("nasa_data")),t=localStorage.getItem("nasa_day");e&&t===this.getToday(this.state.day)?this.setState({items:e}):this.getdata()}},{key:"goDetail",value:function(e){this.props.goDetail(e)}},{key:"render",value:function(){var e=this,t=this.state.items.map((function(t,a){return Object(v.jsx)(m,{data:t,goDetail:e.goDetail},a)}));return Object(v.jsxs)("div",{className:"home",goDetail:this.goDetail,children:[Object(v.jsx)("div",{id:"particle-canvas",className:"space",style:{position:"absolute"},children:Object(v.jsx)(x.a,{height:"100vh",width:"100vw",params:k})}),Object(v.jsx)("h3",{children:"NASA day of the day"}),Object(v.jsx)(O.a,{breakpointCols:{default:4,1100:3,700:2,500:1},className:"my-masonry-grid",columnClassName:"my-masonry-grid_column",elevation:3,children:t})]})}}]),a}(n.Component),S=(a(374),a.p+"static/media/offline.9fdba865.png"),D=a(397),N=function(e){Object(d.a)(a,e);var t=Object(h.a)(a);function a(e){var n;return Object(r.a)(this,a),(n=t.call(this,e)).state={url:S,load:!1},n.onErrorVideo=n.onErrorVideo.bind(Object(l.a)(n)),n}return Object(c.a)(a,[{key:"componentDidMount",value:function(){this.setState({url:this.props.data.url})}},{key:"onErrorVideo",value:function(){this.setState({url:S,load:!0})}},{key:"render",value:function(){return Object(v.jsx)(D.a,{fixed:!0,children:Object(v.jsxs)("div",{class:"card",children:[Object(v.jsx)("div",{className:"button_back",onClick:this.props.goBack,children:"Back"}),Object(v.jsxs)("div",{class:"col2",children:["image"===this.props.data.media_type?Object(v.jsx)("div",{children:Object(v.jsx)("img",{src:this.props.data.url,alt:"Imagen del dia"})}):Object(v.jsx)("div",{className:"divideodetail",onClick:this.goDetail,children:this.state.load?Object(v.jsx)("img",{className:"offline",src:this.state.url,alt:"Sin conexion"}):Object(v.jsx)(j.a,{width:"100%",height:"100%",onError:this.onErrorVideo,url:this.state.url})}),Object(v.jsxs)("p",{children:[this.props.data.copyright," / ",this.props.data.date]})]}),Object(v.jsxs)("div",{class:"col1",children:[Object(v.jsx)("h1",{children:this.props.data.title}),Object(v.jsx)("p",{children:this.props.data.explanation}),this.state.load&&Object(v.jsx)("h4",{children:"you are offline the content will be loaded when you have internet"})]})]})})}}]),a}(n.Component),_=(a(375),function(e){Object(d.a)(a,e);var t=Object(h.a)(a);function a(e){var n;return Object(r.a)(this,a),(n=t.call(this,e)).state={item:null},n.goDetail=n.goDetail.bind(Object(l.a)(n)),n.goBack=n.goBack.bind(Object(l.a)(n)),n}return Object(c.a)(a,[{key:"goBack",value:function(){this.setState({item:null})}},{key:"goDetail",value:function(e){this.setState({item:e})}},{key:"render",value:function(){var e=this.state.item,t=Object(v.jsx)(w,{goDetail:this.goDetail});return e&&(t=Object(v.jsx)(N,{goBack:this.goBack,data:this.state.item})),Object(v.jsxs)("div",{className:"App",children:[Object(v.jsxs)("header",{children:[Object(v.jsxs)("section",{id:"logo",children:[" ",Object(v.jsx)("img",{src:"./assets/logoNASA.png"})," "]}),Object(v.jsx)("h2",{children:"NASA"})]}),t," ",Object(v.jsx)("footer",{children:Object(v.jsx)("h4",{children:"NASA copyright \xa9"})})]})}}]),a}(n.Component)),E=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function C(e,t){navigator.serviceWorker.register(e).then((function(e){e.onupdatefound=function(){var a=e.installing;null!=a&&(a.onstatechange=function(){"installed"===a.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://cra.link/PWA."),t&&t.onUpdate&&t.onUpdate(e)):(console.log("Content is cached for offline use."),t&&t.onSuccess&&t.onSuccess(e)))})}})).catch((function(e){console.error("Error during service worker registration:",e)}))}var A=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,399)).then((function(t){var a=t.getCLS,n=t.getFID,i=t.getFCP,o=t.getLCP,s=t.getTTFB;a(e),n(e),i(e),o(e),s(e)}))};s.a.render(Object(v.jsx)(i.a.StrictMode,{children:Object(v.jsx)(_,{})}),document.getElementById("root")),function(e){if("serviceWorker"in navigator){if(new URL("/reactnasa",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",(function(){var t="".concat("/reactnasa","/service-worker.js");E?(!function(e,t){fetch(e,{headers:{"Service-Worker":"script"}}).then((function(a){var n=a.headers.get("content-type");404===a.status||null!=n&&-1===n.indexOf("javascript")?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))})):C(e,t)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(t,e),navigator.serviceWorker.ready.then((function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://cra.link/PWA")}))):C(t,e)}))}}(),A()}},[[376,1,2]]]);
//# sourceMappingURL=main.cb95b9d3.chunk.js.map